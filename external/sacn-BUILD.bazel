cc_library(
    name = "sacn_cpp",
    visibility = ["//visibility:public"],
    hdrs = [
        "include/sacn/cpp/common.h",
        "include/sacn/cpp/dmx_merger.h",
        "include/sacn/cpp/merge_receiver.h",
        "include/sacn/cpp/receiver.h",
        "include/sacn/cpp/source_detector.h",
        "include/sacn/cpp/source.h",
    ],
    deps = ["@etcpal//:etcpal_cpp", ":sacn"],
)
cc_library(
    name = "sacn",
    visibility = ["//visibility:public"],
    hdrs = [
        "include/sacn/common.h",
        "include/sacn/cpp/common.h",
        "include/sacn/cpp/dmx_merger.h",
        "include/sacn/cpp/merge_receiver.h",
        "include/sacn/cpp/receiver.h",
        "include/sacn/cpp/source_detector.h",
        "include/sacn/cpp/source.h",
        "include/sacn/dmx_merger.h",
        "include/sacn/merge_receiver.h",
        "include/sacn/receiver.h",
        "include/sacn/source_detector.h",
        "include/sacn/source.h",
        "include/sacn/version.h",
    ],
    strip_include_prefix = "include",
    srcs = [
        "src/sacn/common.c",
        "src/sacn/dmx_merger.c",
        "src/sacn/mem.c",
        "src/sacn/mem/common.c",
        "src/sacn/mem/merge_receiver/merge_receiver_source.c",
        "src/sacn/mem/merge_receiver/merge_receiver.c",
        "src/sacn/mem/merge_receiver/merged_data.c",
        "src/sacn/mem/merge_receiver/non_dmx.c",
        "src/sacn/mem/merge_receiver/source_limit_exceeded.c",
        "src/sacn/mem/receiver/receiver.c",
        "src/sacn/mem/receiver/recv_thread_context.c",
        "src/sacn/mem/receiver/remote_source.c",
        "src/sacn/mem/receiver/sampling_ended.c",
        "src/sacn/mem/receiver/sampling_started.c",
        "src/sacn/mem/receiver/source_limit_exceeded.c",
        "src/sacn/mem/receiver/source_pap_lost.c",
        "src/sacn/mem/receiver/sources_lost.c",
        "src/sacn/mem/receiver/status_lists.c",
        "src/sacn/mem/receiver/to_erase.c",
        "src/sacn/mem/receiver/tracked_source.c",
        "src/sacn/mem/receiver/universe_data.c",
        "src/sacn/mem/source_detector/source_detector_expired_source.c",
        "src/sacn/mem/source_detector/source_detector.c",
        "src/sacn/mem/source_detector/universe_discovery_source.c",
        "src/sacn/mem/source/source_netint.c",
        "src/sacn/mem/source/source_universe.c",
        "src/sacn/mem/source/source.c",
        "src/sacn/mem/source/unicast_destination.c",
        "src/sacn/merge_receiver.c",
        "src/sacn/pdu.c",
        "src/sacn/private/common.h",
        "src/sacn/private/dmx_merger.h",
        "src/sacn/private/mem.h",
        "src/sacn/private/mem/common.h",
        "src/sacn/private/mem/merge_receiver/merge_receiver_source.h",
        "src/sacn/private/mem/merge_receiver/merge_receiver.h",
        "src/sacn/private/mem/merge_receiver/merged_data.h",
        "src/sacn/private/mem/merge_receiver/non_dmx.h",
        "src/sacn/private/mem/merge_receiver/source_limit_exceeded.h",
        "src/sacn/private/mem/receiver/receiver.h",
        "src/sacn/private/mem/receiver/recv_thread_context.h",
        "src/sacn/private/mem/receiver/remote_source.h",
        "src/sacn/private/mem/receiver/sampling_ended.h",
        "src/sacn/private/mem/receiver/sampling_started.h",
        "src/sacn/private/mem/receiver/source_limit_exceeded.h",
        "src/sacn/private/mem/receiver/source_pap_lost.h",
        "src/sacn/private/mem/receiver/sources_lost.h",
        "src/sacn/private/mem/receiver/status_lists.h",
        "src/sacn/private/mem/receiver/to_erase.h",
        "src/sacn/private/mem/receiver/tracked_source.h",
        "src/sacn/private/mem/receiver/universe_data.h",
        "src/sacn/private/mem/source_detector/source_detector_expired_source.h",
        "src/sacn/private/mem/source_detector/source_detector.h",
        "src/sacn/private/mem/source_detector/universe_discovery_source.h",
        "src/sacn/private/mem/source/source_netint.h",
        "src/sacn/private/mem/source/source_universe.h",
        "src/sacn/private/mem/source/source.h",
        "src/sacn/private/mem/source/unicast_destination.h",
        "src/sacn/private/merge_receiver.h",
        "src/sacn/private/opts.h",
        "src/sacn/private/pdu.h",
        "src/sacn/private/receiver_state.h",
        "src/sacn/private/receiver.h",
        "src/sacn/private/sockets.h",
        "src/sacn/private/source_detector_state.h",
        "src/sacn/private/source_detector.h",
        "src/sacn/private/source_loss.h",
        "src/sacn/private/source_state.h",
        "src/sacn/private/source.h",
        "src/sacn/private/util.h",
        "src/sacn/receiver_state.c",
        "src/sacn/receiver.c",
        "src/sacn/sockets.c",
        "src/sacn/source_detector_state.c",
        "src/sacn/source_detector.c",
        "src/sacn/source_loss.c",
        "src/sacn/source_state.c",
        "src/sacn/source.c",
        "src/sacn/util.c",
    ],
    includes = ["src"],
    deps = ["@etcpal//:etcpal"],
)

cc_binary(
    name = "example_receiver",
    srcs = [
        "examples/receiver/src/linux/keyboard_interrupt.c",
        "examples/receiver/src/main.c",
    ],
    deps = ["@sacn//:sacn"],
)
