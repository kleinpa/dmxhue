cc_library(
    name = "hueplusplus",
    visibility = ["//visibility:public"],
    hdrs = [
        "include/hueplusplus/Action.h",
        "include/hueplusplus/APICache.h",
        "include/hueplusplus/BaseDevice.h",
        "include/hueplusplus/BaseHttpHandler.h",
        "include/hueplusplus/Bridge.h",
        "include/hueplusplus/BridgeConfig.h",
        "include/hueplusplus/BrightnessStrategy.h",
        "include/hueplusplus/CLIPSensors.h",
        "include/hueplusplus/ColorHueStrategy.h",
        "include/hueplusplus/ColorTemperatureStrategy.h",
        "include/hueplusplus/ColorUnits.h",
        "include/hueplusplus/Condition.h",
        "include/hueplusplus/EntertainmentMode.h",
        "include/hueplusplus/ExtendedColorHueStrategy.h",
        "include/hueplusplus/ExtendedColorTemperatureStrategy.h",
        "include/hueplusplus/Group.h",
        "include/hueplusplus/HueCommandAPI.h",
        "include/hueplusplus/HueDeviceTypes.h",
        "include/hueplusplus/HueException.h",
        "include/hueplusplus/HueExceptionMacro.h",
        "include/hueplusplus/IHttpHandler.h",
        "include/hueplusplus/LibConfig.h",
        "include/hueplusplus/Light.h",
        "include/hueplusplus/LinHttpHandler.h",
        "include/hueplusplus/ModelPictures.h",
        "include/hueplusplus/NewDeviceList.h",
        "include/hueplusplus/ResourceList.h",
        "include/hueplusplus/Rule.h",
        "include/hueplusplus/Scene.h",
        "include/hueplusplus/Schedule.h",
        "include/hueplusplus/Sensor.h",
        "include/hueplusplus/SensorList.h",
        "include/hueplusplus/SimpleBrightnessStrategy.h",
        "include/hueplusplus/SimpleColorHueStrategy.h",
        "include/hueplusplus/SimpleColorTemperatureStrategy.h",
        "include/hueplusplus/StateTransaction.h",
        "include/hueplusplus/TimePattern.h",
        "include/hueplusplus/UPnP.h",
        "include/hueplusplus/Utils.h",
        "include/hueplusplus/ZLLSensors.h",
    ],
    strip_include_prefix = "include",
    srcs = [
        "src/Action.cpp",
        "src/APICache.cpp",
        "src/BaseDevice.cpp",
        "src/BaseHttpHandler.cpp",
        "src/Bridge.cpp",
        "src/BridgeConfig.cpp",
        "src/CLIPSensors.cpp",
        "src/ColorUnits.cpp",
        "src/EntertainmentMode.cpp",
        "src/ExtendedColorHueStrategy.cpp",
        "src/ExtendedColorTemperatureStrategy.cpp",
        "src/Group.cpp",
        "src/HueCommandAPI.cpp",
        "src/HueDeviceTypes.cpp",
        "src/HueException.cpp",
        "src/Light.cpp",
        "src/LinHttpHandler.cpp",
        "src/ModelPictures.cpp",
        "src/NewDeviceList.cpp",
        "src/Rule.cpp",
        "src/Scene.cpp",
        "src/Schedule.cpp",
        "src/Sensor.cpp",
        "src/SimpleBrightnessStrategy.cpp",
        "src/SimpleColorHueStrategy.cpp",
        "src/SimpleColorTemperatureStrategy.cpp",
        "src/StateTransaction.cpp",
        "src/TimePattern.cpp",
        "src/UPnP.cpp",
        "src/Utils.cpp",
        "src/ZLLSensors.cpp",
        "test/mocks/mock_BaseHttpHandler.h",
        "test/mocks/mock_HttpHandler.h",
        "test/mocks/mock_Light.h",
        "test/testhelper.h",
        "test/TestTransaction.h",
    ],
    deps = [
        "@mbedtls//:mbedtls",
        "@nlohmann_json//:json",
    ],
    copts = ["-Wno-unused-variable"],
)

cc_test(
    name = "hueplusplus_test",
    srcs = [
        "test/test_Action.cpp",
        "test/test_APICache.cpp",
        "test/test_BaseDevice.cpp",
        "test/test_BaseHttpHandler.cpp",
        "test/test_Bridge.cpp",
        "test/test_BridgeConfig.cpp",
        "test/test_ColorUnits.cpp",
        "test/test_ExtendedColorHueStrategy.cpp",
        "test/test_ExtendedColorTemperatureStrategy.cpp",
        "test/test_Group.cpp",
        "test/test_HueCommandAPI.cpp",
        "test/test_Light.cpp",
        "test/test_LightFactory.cpp",
        "test/test_Main.cpp",
        "test/test_NewDeviceList.cpp",
        "test/test_ResourceList.cpp",
        "test/test_Rule.cpp",
        "test/test_Scene.cpp",
        "test/test_Schedule.cpp",
        "test/test_Sensor.cpp",
        "test/test_SensorImpls.cpp",
        "test/test_SensorList.cpp",
        "test/test_SimpleBrightnessStrategy.cpp",
        "test/test_SimpleColorHueStrategy.cpp",
        "test/test_SimpleColorTemperatureStrategy.cpp",
        "test/test_StateTransaction.cpp",
        "test/test_TimePattern.cpp",
        "test/test_UPnP.cpp",
    ],
    deps = [
        "@hueplusplus//:hueplusplus",
        "@com_google_googletest//:gtest_main",
    ],
)

cc_binary(
    name = "username_config",
    srcs = [
        "examples/UsernameConfig.cpp",
    ],
    deps = ["@hueplusplus//:hueplusplus"],
)

cc_binary(
    name = "bridge_setup",
    srcs = [
        "examples/BridgeSetup.cpp",
    ],
    deps = ["@hueplusplus//:hueplusplus"],
)

cc_binary(
    name = "lights_off",
    srcs = [
        "examples/LightsOff.cpp",
    ],
    deps = ["@hueplusplus//:hueplusplus"],
)

cc_binary(
    name = "snippets",
    srcs = [
        "examples/Snippets.cpp",
    ],
    deps = ["@hueplusplus//:hueplusplus"],
)
